<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="MIC.Desktop.Avalonia.Views.MainWindow"
        xmlns:vm="using:MIC.Desktop.Avalonia.ViewModels"
        Title="Mbarie Intelligence Console"
        MinWidth="1400" MinHeight="900"
        Width="1600" Height="1000"
        Background="{StaticResource BackgroundGradient}"
        FontFamily="Inter, SF Pro Display, Segoe UI, Segoe UI Variable Display"
        Icon="/Assets/app-icon.ico"
        x:DataType="vm:MainWindowViewModel">
    
    <!-- Main Grid Layout -->
    <Grid RowDefinitions="Auto,*,Auto">
        
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <!-- TOP MENU BAR -->
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <Border Grid.Row="0" 
                Background="#1A1520E6"
                BorderBrush="{StaticResource BorderGoldBrush}"
                BorderThickness="0,0,0,1">
            
            <Grid Height="50" ColumnDefinitions="Auto,*,Auto" Margin="16,0">
                
                <!-- Logo & Title -->
                <StackPanel Grid.Column="0" 
                            Orientation="Horizontal" 
                            Spacing="12"
                            VerticalAlignment="Center">
                    <Border Width="36" Height="36"
                            CornerRadius="8"
                            Background="{StaticResource GoldenGradient}">
                        <TextBlock Text="M" 
                                   FontSize="20" 
                                   FontWeight="Bold"
                                   Foreground="#0A0A0F"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Border>
                    <StackPanel Spacing="2" VerticalAlignment="Center">
                        <TextBlock Text="MBARIE" 
                                   FontSize="16" 
                                   FontWeight="Bold"
                                   Foreground="{StaticResource TextPrimaryBrush}"/>
                        <TextBlock Text="Intelligence Console" 
                                   FontSize="10" 
                                   Foreground="{StaticResource TextTertiaryBrush}"/>
                    </StackPanel>
                </StackPanel>
                
                <!-- Search Bar -->
                <Border Grid.Column="1"
                        Background="{StaticResource BackgroundDeepBrush}"
                        BorderBrush="{StaticResource BorderSubtleBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="12,8"
                        Margin="40,0"
                        MaxWidth="600"
                        HorizontalAlignment="Center">
                    <TextBox Watermark="Search alerts, metrics, predictions..."
                             Background="Transparent"
                             BorderThickness="0"
                             Foreground="{StaticResource TextSecondaryBrush}"
                             FontSize="14"/>
                </Border>
                
                <!-- User Menu -->
                <StackPanel Grid.Column="2" 
                            Orientation="Horizontal" 
                            Spacing="16"
                            VerticalAlignment="Center">
                    <Button Content="ðŸ””" 
                            FontSize="18"
                            Background="Transparent"
                            BorderThickness="0"
                            Padding="8"/>
                    <Border Background="{StaticResource BackgroundElevatedBrush}"
                            CornerRadius="20"
                            Padding="8,4,12,4"
                            BorderBrush="{StaticResource BorderGoldBrush}"
                            BorderThickness="1">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Border Width="28" Height="28"
                                    CornerRadius="14"
                                    Background="{StaticResource GoldenGradient}">
                                <TextBlock Text="{Binding UserInitials, FallbackValue='TU'}"
                                           FontSize="12"
                                           FontWeight="SemiBold"
                                           Foreground="#0A0A0F"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"/>
                            </Border>
                            <TextBlock Text="{Binding UserName, FallbackValue='Test User'}"
                                       Foreground="{StaticResource TextPrimaryBrush}"
                                       FontSize="13"
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
                
            </Grid>
            
            <!-- Native Menu -->
            <NativeMenu.Menu>
                <NativeMenu>
                    <NativeMenuItem Header="File">
                        <NativeMenu>
                            <NativeMenuItem Header="New Chat" Gesture="Ctrl+N" Command="{Binding NewChatCommand}"/>
                            <NativeMenuItem Header="New Email" Gesture="Ctrl+E" Command="{Binding NewEmailCommand}"/>
                            <NativeMenuItemSeparator/>
                            <NativeMenuItem Header="Export Metrics" Command="{Binding ExportMetricsCommand}"/>
                            <NativeMenuItem Header="Export Predictions" Command="{Binding ExportPredictionsCommand}"/>
                            <NativeMenuItemSeparator/>
                            <NativeMenuItem Header="Settings" Gesture="Ctrl+Comma" Command="{Binding NavigateToSettingsCommand}"/>
                            <NativeMenuItemSeparator/>
                            <NativeMenuItem Header="Exit" Gesture="Alt+F4" Command="{Binding ExitCommand}"/>
                        </NativeMenu>
                    </NativeMenuItem>
                    <NativeMenuItem Header="Edit">
                        <NativeMenu>
                            <NativeMenuItem Header="Cut" Gesture="Ctrl+X" Command="{Binding CutCommand}"/>
                            <NativeMenuItem Header="Copy" Gesture="Ctrl+C" Command="{Binding CopyCommand}"/>
                            <NativeMenuItem Header="Paste" Gesture="Ctrl+V" Command="{Binding PasteCommand}"/>
                            <NativeMenuItem Header="Select All" Gesture="Ctrl+A" Command="{Binding SelectAllCommand}"/>
                            <NativeMenuItemSeparator/>
                            <NativeMenuItem Header="Find" Gesture="Ctrl+F" Command="{Binding FindCommand}"/>
                        </NativeMenu>
                    </NativeMenuItem>
                    <NativeMenuItem Header="View">
                        <NativeMenu>
                            <NativeMenuItem Header="Dashboard" Gesture="Ctrl+1" Command="{Binding NavigateToDashboardCommand}"/>
                            <NativeMenuItem Header="Email" Gesture="Ctrl+2" Command="{Binding NavigateToEmailCommand}"/>
                            <NativeMenuItem Header="Chat" Gesture="Ctrl+3" Command="{Binding NavigateToChatCommand}"/>
                            <NativeMenuItem Header="Alerts" Gesture="Ctrl+4" Command="{Binding NavigateToAlertsCommand}"/>
                            <NativeMenuItem Header="Metrics" Gesture="Ctrl+5" Command="{Binding NavigateToMetricsCommand}"/>
                            <NativeMenuItem Header="Predictions" Gesture="Ctrl+6" Command="{Binding NavigateToPredictionsCommand}"/>
                            <NativeMenuItem Header="Knowledge Base" Gesture="Ctrl+7" Command="{Binding NavigateToKnowledgeBaseCommand}"/>
                            <NativeMenuItemSeparator/>
                            <NativeMenuItem Header="Refresh" Gesture="F5" Command="{Binding RefreshCommand}"/>
                            <NativeMenuItem Header="Fullscreen" Gesture="F11" Command="{Binding ToggleFullscreenCommand}"/>
                        </NativeMenu>
                    </NativeMenuItem>
                    <NativeMenuItem Header="Help">
                        <NativeMenu>
                            <NativeMenuItem Header="Documentation" Command="{Binding ShowDocumentationCommand}"/>
                            <NativeMenuItem Header="Keyboard Shortcuts" Gesture="Ctrl+/" Command="{Binding ShowKeyboardShortcutsCommand}"/>
                            <NativeMenuItem Header="Check for Updates" Command="{Binding CheckForUpdatesCommand}"/>
                            <NativeMenuItemSeparator/>
                            <NativeMenuItem Header="About" Command="{Binding ShowAboutCommand}"/>
                        </NativeMenu>
                    </NativeMenuItem>
                </NativeMenu>
            </NativeMenu.Menu>
            
        </Border>
        
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <!-- MAIN CONTENT AREA -->
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <Grid Grid.Row="1" ColumnDefinitions="280,*">
            
            <!-- SIDEBAR NAVIGATION -->
            <Border Grid.Column="0"
                    Background="#1A1520F0"
                    BorderBrush="#FFB84D20"
                    BorderThickness="0,0,1,0">
                <ScrollViewer>
                    <StackPanel Margin="16" Spacing="8">
                        
                        <!-- Navigation Header -->
                        <TextBlock Text="NAVIGATION" 
                                   FontSize="11" 
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextTertiaryBrush}"
                                   Margin="8,16,0,8"/>
                        
                        <!-- Navigation Buttons -->
                        <Button Content="ðŸ“Š Dashboard" 
                                Command="{Binding NavigateToDashboardCommand}"
                                Classes="nav-button"/>
                        <Button Content="ðŸ“§ Email" 
                                Command="{Binding NavigateToEmailCommand}"
                                Classes="nav-button"/>
                        <Button Content="ðŸ’¬ AI Chat" 
                                Command="{Binding NavigateToChatCommand}"
                                Classes="nav-button"/>
                        <Button Content="ðŸ”” Alerts" 
                                Command="{Binding NavigateToAlertsCommand}"
                                Classes="nav-button"/>
                        <Button Content="ðŸ“ˆ Metrics" 
                                Command="{Binding NavigateToMetricsCommand}"
                                Classes="nav-button"/>
                        <Button Content="ðŸ”® Predictions" 
                                Command="{Binding NavigateToPredictionsCommand}"
                                Classes="nav-button"/>
                        <Button Content="ðŸ“š Knowledge Base" 
                                Command="{Binding NavigateToKnowledgeBaseCommand}"
                                Classes="nav-button"/>
                        
                        <!-- System Section -->
                        <TextBlock Text="SYSTEM" 
                                   FontSize="11" 
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextTertiaryBrush}"
                                   Margin="8,24,0,8"/>
                        
                        <Button Content="âš™ï¸ Settings" 
                                Command="{Binding NavigateToSettingsCommand}"
                                Classes="nav-button"/>
                        
                    </StackPanel>
                </ScrollViewer>
            </Border>
            
            <!-- MAIN CONTENT -->
            <Border Grid.Column="1" Padding="32">
                <ContentControl Content="{Binding CurrentView}"/>
            </Border>
            
        </Grid>
        
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <!-- STATUS BAR -->
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <Border Grid.Row="2"
                Background="#1A1520E6"
                BorderBrush="{StaticResource BorderGoldBrush}"
                BorderThickness="0,1,0,0"
                Padding="16,8">
            <Grid ColumnDefinitions="*,Auto">
                <TextBlock Grid.Column="0" 
                           Text="{Binding CurrentViewName, FallbackValue='Ready'}"
                           Foreground="{StaticResource TextTertiaryBrush}"
                           FontSize="12"
                           VerticalAlignment="Center"/>
                <StackPanel Grid.Column="1" 
                            Orientation="Horizontal" 
                            Spacing="16">
                    <StackPanel Orientation="Horizontal" Spacing="6">
                        <Ellipse Width="8" Height="8" Fill="#10B981"/>
                        <TextBlock Text="Connected" 
                                   Foreground="{StaticResource TextTertiaryBrush}"
                                   FontSize="12"
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock Text="{Binding LastUpdateTime, FallbackValue='00:00'}" 
                               Foreground="{StaticResource TextTertiaryBrush}"
                               FontSize="12"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>
        
    </Grid>
    
</Window>
